#pragma warning(push, 0)
#include <FL/Fl_PNG_Image.H>
#include <FL/Fl_Tiled_Image.H>
#include <FL/fl_draw.H>
#pragma warning(pop)

#include "screen.h"

static uchar screen_png_buffer[96] = {
	0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52,
	0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x01, 0x03, 0x00, 0x00, 0x00, 0x25, 0x3d, 0x6d,
	0x22, 0x00, 0x00, 0x00, 0x03, 0x50, 0x4c, 0x54, 0x45, 0xe0, 0xff, 0x00, 0x9d, 0xbc, 0x10, 0x08,
	0x00, 0x00, 0x00, 0x01, 0x74, 0x52, 0x4e, 0x53, 0x40, 0x36, 0x3a, 0x99, 0xf6, 0x00, 0x00, 0x00,
	0x0b, 0x49, 0x44, 0x41, 0x54, 0x78, 0x5e, 0x63, 0x20, 0x11, 0x00, 0x00, 0x00, 0x30, 0x00, 0x01,
	0x81, 0x48, 0xa6, 0x44, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
};

static Fl_PNG_Image screen_png(NULL, screen_png_buffer, 96);

static Fl_Tiled_Image tiled_screen_png(&screen_png);

Screen::Screen() : Fl_Box(0, 0, 0, 0) {
	box(FL_NO_BOX);
	align(FL_ALIGN_INSIDE | FL_ALIGN_CENTER | FL_ALIGN_CLIP);
	image(tiled_screen_png);
}

void Screen::draw() {
	Fl_Box::draw();
	fl_rect(x(), y(), w(), h(), FL_BLACK);
	fl_rect(x()+1, y()+1, w()-2, h()-2, FL_WHITE);
}

int Screen::handle(int) {
	return 0;
}
