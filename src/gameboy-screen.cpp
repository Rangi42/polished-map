#pragma warning(push, 0)
#include <FL/Fl_PNG_Image.H>
#include <FL/fl_draw.H>
#pragma warning(pop)

#include "gameboy-screen.h"

static uchar screen_png_buffer[] = {
	0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d, 0x49, 0x48, 0x44, 0x52,
	0x00, 0x00, 0x01, 0x40, 0x00, 0x00, 0x01, 0x20, 0x01, 0x03, 0x00, 0x00, 0x00, 0xff, 0xaa, 0x38,
	0xb3, 0x00, 0x00, 0x00, 0x03, 0x50, 0x4c, 0x54, 0x45, 0xe0, 0xff, 0x00, 0x9d, 0xbc, 0x10, 0x08,
	0x00, 0x00, 0x00, 0x01, 0x74, 0x52, 0x4e, 0x53, 0x40, 0x36, 0x3a, 0x99, 0xf6, 0x00, 0x00, 0x00,
	0x21, 0x49, 0x44, 0x41, 0x54, 0x78, 0x5e, 0xed, 0xc0, 0x01, 0x0d, 0x00, 0x00, 0x00, 0xc2, 0x20,
	0xfb, 0xa7, 0xb6, 0xc7, 0x07, 0x4b, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0xe0, 0x2e, 0x20, 0x00, 0x01, 0x0e, 0x53, 0x11, 0x8a, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45,
	0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
};

static Fl_PNG_Image screen_png(NULL, screen_png_buffer, sizeof(screen_png_buffer));

int Game_Boy_Screen::_x = 0, Game_Boy_Screen::_y = 0, Game_Boy_Screen::_w = 0, Game_Boy_Screen::_h = 0;

void Game_Boy_Screen::draw() {
	screen_png.draw(_x, _y, _w, _h);
	fl_rect(_x, _y, _w, _h, FL_BLACK);
	fl_rect(_x+1, _y+1, _w-2, _h-2, FL_WHITE);
}
